pipeline {
    agent any

    environment {
        VENV_NAME = 'virtual_retail'
        PYTHON_VERSION = '3.9.2'
    }

    stages {
        stage('Checkout') {
            steps {
                // Assuming you are using Git. Adjust this if you are using a different version control system.
                script {
                    checkout scm
                }
            }
        }

        stage('build') {
            steps {
                script {
                    // Install Python if needed
                    // sh "sudo apt-get update && sudo apt-get install -y python${PYTHON_VERSION}"
                    sh "python3 -m venv ${VENV_NAME}"
                    sh "source ${VENV_NAME}/bin/activate"
                    sh "pip install -r req.txt"
                }
            }
        }

        stage('test') {
            steps {
                echo 'test'
            }
        }

        stage('deploy') {
            steps {
                echo 'Deploy'
            }
        }
    }
}
